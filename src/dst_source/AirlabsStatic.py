#!/usr/bin/env python3# -*- coding: utf-8 -*-"""Created on Fri Aug  5 20:30:11 2022@author: houda.el-mir"""import requestsimport osimport json        class AirlabsStatic:    '''    Extract static data from Airlabs API    '''    def __init__(self, api_key):        self.api_key = api_key    base_url = 'http://airlabs.co/api/v9/'    def get_airports_airlabs(self, airport_iata='', write_json = False):                url = self.base_url + 'airports' + '?' + '_fields=' + "name,iata_code,icao_code,lat,lng,alt,city,city_code,un_locode,timezone,country_code" + '&' +'api_key' + '=' + self.api_key        api_response = requests.get(url)                if write_json and (api_response.status_code == 200 or api_response.status_code == 201):            self.__export_json("airports_airlabs", api_response.json())                    return api_response.json()        def get_airlines_airlabs(self, write_json = False):                url = self.base_url + 'airlines' + '?' + 'api_key' + '=' + self.api_key        api_response = requests.get(url)                if write_json and (api_response.status_code == 200 or api_response.status_code == 201):            self.__export_json("airlines_airlabs", api_response.json())                    return api_response.json()        def get_cities_airlabs(self, write_json = False):                url = self.base_url + 'cities' + '?' + 'api_key' + '=' + self.api_key        api_response = requests.get(url)                if write_json and (api_response.status_code == 200 or api_response.status_code == 201):            self.__export_json("cities_airlabs", api_response.json())                    return api_response.json()        def get_countries_airlabs(self, write_json = False):                url = self.base_url + 'countries' + '?' + 'api_key' + '=' + self.api_key        api_response = requests.get(url)                if write_json and (api_response.status_code == 200 or api_response.status_code == 201):            self.__export_json("countries_airlabs", api_response.json())                    return api_response.json()        def __export_json(self, filename, response):        json_dir_name = "tmp_json"        path = os.path.join(os.getcwd(), json_dir_name)        mode = 0o755        if not os.path.exists(json_dir_name):            os.mkdir(path, mode)        filename = path + '/' + filename  + ".json"        print ("Writing file : " + filename)        with open(filename, 'w') as f:            json.dump(response, f)        f.close()